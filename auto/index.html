<html>

<head>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"> </script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript"> </script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"> </script>
</head>

<body>
	<div class="container">
		<h1>GeeksForGeeks</h1>
		<div class="row">
			<div class="col-lg-6">
				<div class="form-group">
					<label>Id</label>
					<input type='text' name="user_id" id='user_id' class='form-control' placeholder='Enter user id' onkeyup="GetDetail(this.value)" value="">
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6">
				<div class="form-group">
					<label>Medicine Name:</label>
					<input type="text" name="NAME" id="NAME" class="form-control" placeholder='First Name' value="">
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6">
				<div class="form-group">
					<label>Batch ID:</label>
					<input type="text" name="BATCH_ID" id="BATCH_ID" class="form-control" placeholder='Last Name' value="">
				</div>
			</div>
		</div>
        <div class="row">
			<div class="col-lg-6">
				<div class="form-group">
					<label>Expriay Date:</label>
					<input type="text" name="EXPIRY_DATE" id="EXPIRY_DATE" class="form-control" placeholder='Last Name'value="">
				</div>
			</div>
		</div>
        <div class="row">
			<div class="col-lg-6">
				<div class="form-group">
					<label>QTY:</label>
					<input type="text" name="QUANTITY" id="QUANTITY" class="form-control" placeholder='Last Name' value="">
				</div>
			</div>
		</div>
	</div>
	<script>

		function GetDetail(str) {
			if (str.length == 0) {
				document.getElementById("NAME").value = "";
				document.getElementById("BATCH_ID").value = "";
				document.getElementById("EXPIRY_DATE").value = "";
				document.getElementById("QUANTITY").value = "";
				return;
			}
			else {
				var xmlhttp = new XMLHttpRequest();
				xmlhttp.onreadystatechange = function () {

					if (this.readyState == 4 &&
							this.status == 200) {
						
						var myObj = JSON.parse(this.responseText);
						
						document.getElementById
							("NAME").value = myObj[0];
	
						document.getElementById(
							"BATCH_ID").value = myObj[1];
                        document.getElementById(
						"EXPIRY_DATE").value = myObj[2];
                        document.getElementById(
						"QUANTITY").value = myObj[3];
					}
				};

				xmlhttp.open("GET", "./php/gfg.php?user_id=" + str, true);
				xmlhttp.send();
			}
		}
	</script>
</body>

</html>
